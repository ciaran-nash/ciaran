(function(){"use strict";function a(a){return Array.prototype.slice.apply(a)}function b(a){var b=document.querySelector("html").classList;b.contains("scroll-lock")||"reset"===a?b.remove("scroll-lock"):b.add("scroll-lock")}function c(a){var c=document.querySelector(".header__main").classList;c.contains("nav-open")||"reset"===a?c.remove("nav-open"):c.add("nav-open"),b(a)}function d(){var b=0,d=document.getElementById("nav-toggle"),e=a(document.querySelectorAll(".scroll-link"));d.addEventListener("click",function(a){a.preventDefault(),c()},!1),e.forEach(function(a){a.addEventListener("click",function(){c("reset")},!1)}),document.addEventListener("keyup",function(a){var b="which"in a?a.which:a.keyCode;27===b&&null!==document.querySelector(".nav-open")&&c("reset")}),window.addEventListener("resize",function(){b&&this.window.cancelAnimationFrame(b),b=window.requestAnimationFrame(function(){window.innerWidth>992&&c("reset")})},!1)}function e(){var a=this,b=document.querySelector(".scroll-link"),c=document.querySelector(".social-link");b.addEventListener("click",function(){var b=a.getAttribute("data-refer");window.ga!==void 0&&ga("send","event",{eventCategory:"Navigation",eventAction:"Nav clicked",eventLabel:b})}),c.addEventListener("click",function(){var b=$(a).attr("data-refer");window.ga!==void 0&&ga("send","event",{eventCategory:"Exit",eventAction:"Link opened",eventLabel:b})})}function f(a){var b=a||document.querySelector(".modal"),c=document.querySelector("body"),d=document.querySelector(".overlay");b.classList.contains("active")?resetView():(b.classList.add("active"),d.classList.add("active"),c.classList.add("scroll-lock"))}function g(){function a(){var a=document.querySelector("body"),b=document.querySelector(".modal"),c=document.getElementById("modal__form"),d=document.querySelector(".overlay"),e=document.getElementById("modal__submit");null!==c&&c.reset(),b.classList.remove("active"),d.classList.remove("active"),a.classList.remove("scroll-lock")}var b=document.querySelector(".modal-link"),d=document.querySelector(".modal"),e=document.querySelector(".modal__content"),g=document.getElementById("modal__form"),h=document.querySelector(".overlay"),i=document.querySelector(".modal-close");b.addEventListener("click",function(){null!==document.querySelector(".nav-open")&&c("reset"),f(d)},!1),i.addEventListener("click",a),document.addEventListener("keyup",function(b){var c="which"in b?b.which:b.keyCode;27===c&&null!==document.querySelector(".modal.active")&&a()})}(function(){null!==document.querySelector(".header__main")&&(d(),e()),null!==document.querySelector(".modal")&&g()})()})();
